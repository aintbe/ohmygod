from rich.text import Text

from .messenger import Messenger
from ..utils import _Animation, _Frame, Color, _Message


_BLESSING = _Message.from_str(r"""
      `--._    `-._   `-.   `.  \   :   /  .'   .-'   _.-'    _.--'
`--.__     `--._   `-._  `-.  `. `. : .' .'  .-'  _.-'   _.--'     __.--'
__    `--.__    `--._  `-._ `-. `. \:/ .' .-' _.-'  _.--'    __.--'    __
  `--..__   `--.__   `--._ `-._`-.`_=_'.-'_.-' _.--'   __.--'   __..--'
--..__   `--..__  `--.__  `--._`-q(-_-)p-'_.--'  __.--'  __..--'   __..--
      ``--..__  `--..__ `--.__ `-'_) (_`-' __.--' __..--'  __..--''
...___        ``--..__ `--..__`--/__/  \--'__..--' __..--''        ___...
      ```---...___    ``--..__`_(<_   _/)_'__..--''    ___...---'''
```-----....._____```---...___(__\_\_|_/__)___...---'''_____.....-----'''
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        God Bless        Never Crash

""")

_PRAYER_TEMPLATE = _Message.from_str(r"""{0}
      `--._    `-._   `-.   `.  \   :   /  .'   .-'   _.-'    _.--'
`--.__     `--._   `-._  `-.  `. `. : .' .'  .-'  _.-'   _.--'     __.--'
__    `--.__    `--._  `-._ `-. `. {1}\:/{0} .' .-' _.-'  _.--'    __.--'    __
  `--..__   `--.__   `--._ `-._`-{1}.`{0}_=_{1}'.{0}-'_.-' _.--'   __.--'   __..--'
--..__   `--..__  `--.__  `--.{1}_`-{0}q(-_-)p{1}-'_{0}.--'  __.--'  __..--'   __..--
      ``--..__  `--..__ `--.__ `{1}-'{0}_) (_{1}`-{0}' __.--' __..--'  __..--''
...___        ``--..__ `--..__{1}`--{0}{arms}{1}--'{0}__..--' __..--''        ___...
      ```---...__     ``--..{1}__`{0}_(<_   _/)_{1}'__{0}..--''    ___...---'''
```-----....._____```---..._{1}__{0}(__\_\_|_/__){1}__{0}_...---'''_____.....-----'''
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^{1}^^^^^^^^^^^^^^^{0}^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        {1}N a m u a m i t a b u l ~{0}

""")
_PRAYER_COLORED_TEMPLATE = _PRAYER_TEMPLATE.color(Color.YELLOW)
_PRAYER_LIVE = _PRAYER_COLORED_TEMPLATE.animate([{"arms": "/___||_)"}, {"arms": "(_||___\\"}])
_PRAYER = _PRAYER_TEMPLATE.format(arms="/__|__\\").clean()


_HURRAY_TEMPLATE = _Message.from_str(r"""
      `--._    `-._   `-.   `.  \   :   /  .'   .-'   _.-'    _.--'
`--.__     `--._   `-._  `-.  `. `. : .' .'  .-'  _.-'   _.--'     __.--'
__    `--.__    `--._  `-._ `-. `. \:/ .' .-' _.-'  _.--'    __.--'    __
  `--..__   `--.__   `--._ `-._`-.`_=_'.-'_.-' _.--'   __.--'   __..--'
--..__   `--..__  `--.__  `--._`-q(•u{wink}-'_.--'  __.--'  __..--'   __..--
      ``--..__  `--..__ `--.__ `-'_) (_`-' __.--' __..--'  __..--''
...___        ``--..__ `--..__`--/__/  \--'__..--' __..--''        ___...
      ```---...___    ``--..__`_(<_   _/)_'__..--''    ___...---'''
```-----....._____```---...___(__\_\_|_/__)___...---'''_____.....-----'''
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                  May no obstacle come across your way

""")
_HURRAY_LIVE = _Animation([
    _Frame(_HURRAY_TEMPLATE.format(wink="•)p"), 0.4),
	_Frame(_HURRAY_TEMPLATE.format(wink=_Message.from_str("-){1}⟡{0}").color(Color.CYAN)), 0.7),
    _Frame(_HURRAY_TEMPLATE.format(wink="•)p"), 0),
])
_HURRAY = _HURRAY_LIVE.get_clean_message(0)

_ERROR_TEMPLATE = _Message.from_str(r"""{1}
      `--._    `-._   `-.   `.  \   :   /  .'   .-'   _.-'    _.--'
`--.__     `--._   `-._  `-.  `. `. : .' .'  .-'  _.-'   _.--'     __.--'
__    `--.__    `--._  `-._ `-. `. \:/ .' .-' _.-'  _.--'    __.--'    __
  `--..__   `--.__   `--._ `-._`-.`{0}_=_{1}'.-'_.-' _.--'   __.--'   __..--'
--..__   `--..__  `--.__  `--._`-{0}q(⊙_⊙)p{1}-'_.--'  __.--'  __..--'   __..--
      ``--..__  `--..__ `--.__ `-'{0}_) (_{1}`-' __.--' __..--'  __..--''
...___        ``--..__ `--..__`--{0}/__/  \\{1}--'__..--' __..--''        ___...
      ```---...___    ``--..__`{0}_(<_   _/)_{1}'__..--''    ___...---'''
```-----....._____```---...___{0}(__\_\_|_/__){1}___...---'''_____.....-----'''
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^{0}
                      """)
_ERROR_COLORED = _ERROR_TEMPLATE.color(Color.RED)
_ERROR_ANIMATION = _Message.from_str("""ALL within the palm of my hand
""")
_ERROR = _ERROR_TEMPLATE.clean() + _ERROR_ANIMATION


class Buddha(Messenger):
    @property
    def BLESSING(self):
        return _BLESSING
    
    @property
    def PRAYER_LIVE(self):
        return _PRAYER_LIVE.activate()
    
    @property
    def HURRAY_LIVE(self):
        return _HURRAY_LIVE.activate()
    
    @property
    def ERROR(self):
        return _ERROR_COLORED
    
    @property
    def ERROR_FOCUS(self):
        return _ERROR_ANIMATION
    
    class Quotes(Messenger.Quotes):
        @property
        def BLESSING(self):
            return Text(_BLESSING)
        
        @property
        def PRAYER(self):
            return Text(_PRAYER)
        
        @property
        def HURRAY(self):
            return Text(_HURRAY)
        
        @property
        def ERROR(self):
            return Text(_ERROR)
